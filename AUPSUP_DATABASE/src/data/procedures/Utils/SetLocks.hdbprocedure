PROCEDURE "AUPSUP_DATABASE.data.procedures.Utils::SetLocks"(
	IN userid NVARCHAR(250),
	IN IN_ITEMS TABLE (EBELN NVARCHAR(10), EBELP VARCHAR(5))
	) 
	LANGUAGE SQLSCRIPT
	SQL SECURITY INVOKER
AS
	
BEGIN
	DECLARE V_CURRENT_TIMESTAMP TIMESTAMP; 
	SELECT CURRENT_TIMESTAMP INTO V_CURRENT_TIMESTAMP FROM "AUPSUP_DATABASE.data.synonyms::DUMMY";
	UPSERT "AUPSUP_DATABASE.data.tables::T_LOCKS" SELECT EBELN, EBELP, :V_CURRENT_TIMESTAMP as DATE_TIME, :userid AS USERID FROM :IN_ITEMS;

END;